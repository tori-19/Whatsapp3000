<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Schedule WhatsApp Message</title>
</head>
<body>
    <h1>Schedule a WhatsApp Message</h1>
    <form method="POST" action="/">
        <label for="number">Phone Number (with country code):</label>
        <br>
        <select id="country_code" name="country_code" required>
            <option value="+1">(+1)</option>
            <option value="+44">(+44)</option>
            <option value="+91">(+91)</option>
            <option value="+61">(+61)</option>
            <option value="+27">(+27)</option>
        </select>
        <input type="text" id="number" name="number" placeholder="Phone Number" pattern="^[1-9][0-9]{6,14}$" required><br><br>
        
        <label for="message">Message:</label>
        <br>
        <textarea id="message" name="message" placeholder="Message" required></textarea><br><br>
        
        <label for="date">Date:</label>
        <br>
        <input type="date" id="date" name="date" required><br><br>
        
        <label for="hour">Hour (24-hour format):</label>
        <br>
        <input type="number" id="hour" name="hour" min="0" max="23" required><br><br>
        
        <label for="minute">Minute:</label>
        <br>
        <input type="number" id="minute" name="minute" min="0" max="59" required><br><br>
        
        <button type="submit">Schedule Message</button>
    </form>

    <h2>Scheduled Messages</h2>
    <ul>
        {% for message in scheduled_messages %}
        <li>
            {{ message['text'] }} to {{ message['number'] }} at {{ message['hour'] }}:{{ message['minute'] }}
            <a href="{{ url_for('edit_message', message_id=message['id']) }}">Edit</a>
        </li>
        {% else %}
        <li>No messages scheduled.</li>
        {% endfor %}
    </ul>
</body>
</html>
